
@mixin mobile-size( $font-size ){
	font-size: #{( ( $font-size - $font-size-base ) / 2 ) + $font-size-base};
}
//
// Fixed Nav
//
body {
	margin-top: 222px;
	&.admin-bar {
		#wrapper-navbar {
			top: 32px;
			@media screen and ( max-width: 782px ) {
				top: 46px;
			}
		}
	}
	@include media-breakpoint-down('md') {
		margin-top: 90px;
	}
}

//
// Target anchor fix
//
:target {
	display: block;
	position: absolute;
	top: -222px; 
	visibility: hidden;
}

//
// Typography
//
body {
	letter-spacing: .01em
}
h1 {
	font-weight: $font-weight-bold;
	letter-spacing: 0;
	line-height: .95em;
	@include media-breakpoint-down('md') {
		@include mobile-size( $h1-font-size );
	}
}
h2 {
	letter-spacing: .025em;
	line-height: 1.222222em;
	margin-bottom: 1em;
	@include media-breakpoint-down('md') {
		@include mobile-size( $h2-font-size );
	}
}
h3 {
	letter-spacing: .025em;
	line-height: 1.294em;
	@include media-breakpoint-down('md') {
		@include mobile-size( $h3-font-size );
	}
	&.add-ons {
		font-weight: $font-weight-bold;
		margin-bottom: 3rem;
		text-transform: lowercase;
		&:before {
			background: $primary;
			border-radius: 50%;
			content: "";
			display: inline-block;
			height: 38px;
			margin-right: 1rem;
			position: relative;
			top: .5rem;
			width: 38px;
		}
	}
}
h4 {
	font-weight: $font-weight-bold;
	letter-spacing: 0;
	line-height: 1.218em;
	@include media-breakpoint-down('md') {
		@include mobile-size( $h4-font-size );
	}
}

@each $color, $value in $theme-colors {
  hr.#{$color} {
    border-top: 1px solid #{$value} !important;
  }
}

//
// Backgrounds
//
.bg-gray-clip {
	background: #{$gray-100};
	background: -moz-linear-gradient(top, #{$gray-100} 0%, #{$gray-100} 75%, #{$white} 75%, #{$white} 100%);
	background: -webkit-linear-gradient(top, #{$gray-100} 0%,#{$gray-100} 75%,#{$white} 75%,#{$white} 100%);
	background: linear-gradient(to bottom, #{$gray-100} 0%,#{$gray-100} 75%,#{$white} 75%,#{$white} 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#{$gray-100}', endColorstr='#{$white}',GradientType=0 );
}

//
// Images
//
img.object-fit-cover {
	height: 100%;
	object-fit: cover;
	width: 100%;
}

//
// Blockquote
//
blockquote {
	.blockquote-footer {
		font-size: 1.25rem;

		&:before {
			display: none;
		}

		img {
			border-radius: 2.125rem;
			display: inline-block;
			height: 4.25rem;
			margin-right: 1.5rem;
			width: 4.25rem;

			@include media-breakpoint-down('sm') {
				display: block;
				margin: auto;
			}
		}
	}
}

//
// Buttons
//
.btn {
	&.btn-primary {
		background-color: $primary;
		border: 1px solid $primary;
		color: $white;

		&:hover {
			background-color: $white;
			color: $primary;
		}

		&:active,
		&:focus {
			background-color: $gray-600;
			color: $white;
			border-color: $gray-600;
		}
	}
	&.btn-secondary {
		background-color: $gray-600;
		border: 1px solid $gray-600;
		color: $white;

		&:hover {
			background-color: $white;
			color: $gray-600;
		}

		&:active,
		&:focus {
			background-color: $primary;
			color: $white;
			border-color: $primary;
		}

	}
	&.btn-outline-primary {
		background-color: transparent;
		border: 1px solid $primary;
		color: $primary;

		&:hover {
			background-color: $primary;
			color: $white;
		}

		&:active,
		&:focus {
			background-color: $gray-600;
			color: $white;
			border-color: $gray-600;
		}
	}
	&.btn-outline-secondary {
		background-color: transparent;
		border: 1px solid $gray-600;
		color: $gray-600;

		&:hover {
			background-color: $gray-600;
			color: $white;
		}

		&:active,
		&:focus {
			background-color: $primary;
			color: $white;
			border-color: $primary;
		}

	}
}

//
// Navbars
//
#top-nav {
	padding-bottom: .6875rem;
	padding-top: .6875rem;

	#searchform {
		margin-right: 2.25rem;

		.input-group {
			border: 1px solid $gray-600;
			border-radius: 1.5rem;

			.form-control {
				background-color: transparent;
				border: none;
				border-bottom-left-radius: 1.5rem;
				border-bottom-right-radius: 0;
				border-top-left-radius: 1.5rem;
				border-top-right-radius: 0;
				transition: $transition-base;
				width: 10rem;
				&:focus {
					width: 20rem;
				}
			}
			.btn {
				background-color: transparent;
				border: none;
				font-size: $font-size-sm;
				&:active,
				&:focus,
				&:hover {
					background-color: transparent;
					color: $primary;
				}
			}
		}
	}
}
#main-nav {
	box-shadow: $box-shadow;
	height: 9.5rem;
	padding: 0;

	.navbar-brand {
		img {
			height: 7.375rem;
			width: auto;
		}
	}
	.navbar-nav {
		height: 9.5rem;

		> .nav-item {
			align-items: center;
			border-bottom: 4px solid transparent;
			border-top: 4px solid transparent;
			display: flex;
			height: 100%;
			margin-left: 1rem;
			margin-right: 1rem;
			text-align: center;
			transition: $transition-base;

			&:first-of-type {
				margin-left: 0;
			}
			&:last-of-type {
				margin-right: 0;
			}
			&:hover,
			&.show {
				border-top-color: $primary;
			}
			.nav-link {
				padding: 0;
			}
		}
		.current-menu-item {
			color: $primary;
		}
	}

	#main-menu-wrapper {
		@include media-breakpoint-up('xl') {
			margin-left: 5rem;
			max-width: 66.5rem;
		}
	}

	#main-menu {
		.dropdown-toggle {
			&:after {
				display: none;
			}
		}
		// Dropdown
		> .dropdown { // li
			@include media-breakpoint-down('lg') {
				// position: inherit;
			}
			&:hover,
			&.show {
				.dropdown-menu {
					display: flex;
				}
			}
			// Mega Menu wrapper
			> .dropdown-menu { // ul
				border: none;
				box-shadow: $box-shadow;
				// flex: 0 0 25%;
				left: -8.5rem;
				margin-top: 3rem;
				// @each $breakpoint in map-keys($container-max-widths) {
				// 	@include media-breakpoint-only($breakpoint) {
				// 		left: 50%;
				// 		margin-left: -#{map-get($container-max-widths, $breakpoint)/2};
				// 		max-width: #{map-get($container-max-widths, $breakpoint)};
				// 	}
				// }
				&:before {
					background-color: $white;
					border-top: 20px solid #fff;
					border-right: 20px solid #fff;
					border-left: 20px solid transparent;
					border-bottom: 20px solid transparent;
					content: "";
					display: block;
					height: 0;
					left: 10rem;
					position: absolute;
					top: -20px;
					transform: rotate(45deg);
					width: 0;
				}
				.dropdown-header {
					color: $dark;
					font-size: $font-size-base;
					&:after {
						content: "";
						display: block;
						width: 3rem;
						height: 0;
						border-top: 2px solid $dark;
						margin-top: 1rem;
					}
				}
				.header-hidden {
					span.dropdown-header {
						visibility: hidden;
						&:after {
							border-color: transparent;
						}
					}
				}
				.dropdown-menu {
					border: none;
					display: flex;
					flex-direction: column;
					flex-wrap: wrap;
					position: relative;
					top: 0;
					.dropdown-item {
						background-color: transparent;
						color: $gray-600;
						font-size: 1.25rem;
						&:hover {
							background-color: transparent;
							color: $dark;
						}
						&:active {
							background-color: transparent;
							color: $primary;
						}
					}
				}
			}
		}
	}
}
#mobile-nav {
	height: 90px;
	.navbar-toggler {
		border-color: transparent;
	}
	.navbar-collapse {
		position: absolute;
		left: 0;
		right: 0;
		top: 90px;
	}
	#mobile-menu {
		background-color: $white;
	}
	.navbar-nav {
		.nav-item {
			border-bottom: 1px solid $gray-600;
			&:first-of-type {
				border-top: 1px solid $gray-600;
			}
			.nav-link {
				padding: 1rem;
			}
		}
	}
	.dropdown-header {
		color: $dark;
		font-size: $font-size-base;
		font-weight: $font-weight-bold;
		padding: 0;
	}
	.dropdown-menu {
		padding: 0;
		margin: 0;
		border: none;
		.nav-item {
			background-color: $gray-100;
			&:last-of-type {
				border-bottom: none;
			}
			.dropdown-item {
				color: $gray-600;
				padding: 1rem;
			}
		}
	}
	.dropdown {
		&.show {
			.dropdown-toggle {
				&:after {
					display: inline-block;
					width: 0;
					height: 0;
					margin-left: .255em;
					vertical-align: .255em;
					content: "";
					border-bottom: .3em solid;
					border-right: .3em solid transparent;
					border-top: 0;
					border-left: .3em solid transparent;
				}
			}
		}
	}
}
//
// Hero
//
#header-wrapper {
	padding: 0;
	position: relative;

	.wp-post-image {
		position: absolute;
		z-index: -1;
	}

	#header-hero-content-wrapper {
		background-color: rgba($black, .65);
		padding-bottom: 6rem;
		padding-top: 6rem;
		@include media-breakpoint-down('md') {
			padding-bottom: 4rem;
			padding-top: 4rem;
		}

		.page-title {
			font-weight: $font-weight-normal;
		}
		.page-subtitle {}
	}
}

//
// Sections
//
section {
	padding-bottom: 3.125rem;
	padding-top: 3.125rem;

	&.section-split-cols {
		padding-bottom: 0;
		padding-top: 0;
		.col-split {
			padding-bottom: 3.125rem;
			padding-top: 3.125rem;
		}
	}

	// .section-title {
	// 	margin-bottom: 2rem;
	// }
}

//
// Columns
//
.col-split-start {
	flex-grow: 1 !important;
	padding-right: ($grid-gutter-width / 2);
	padding-left: ($grid-gutter-width / 2);
}
.col-split-end {
	flex-grow: 1 !important;
	padding-right: ($grid-gutter-width / 2);
	padding-left: ($grid-gutter-width / 2);
}
@each $breakpoint in map-keys($grid-breakpoints) {
	@include media-breakpoint-only($breakpoint) {
		.col-split-start {
			padding-left: calc( ( 100vw - #{map-get($container-max-widths, $breakpoint)} ) / 2 );
		}
		.col-split-end {
			padding-right: calc( ( 100vw - #{map-get($container-max-widths, $breakpoint)} ) / 2 );
		}
	}
}
@for $i from 1 through $grid-columns {
	.col-split-#{$i} {
		flex: 0 0 #{percentage(1 / $grid-columns / $i)};
		&.col-split-start,
		&.col-split-end,
		&:first-of-type,
		&:last-of-type {
			flex-grow: 1 !important;
		}
	}
	@each $grid-breakpoint in map-keys($grid-breakpoints) {
		.col-split-#{$grid-breakpoint}-#{$i} {
			@each $breakpoint in map-keys($container-max-widths) {
				@include media-breakpoint-only($breakpoint) {
					flex: 0 0 #{map-get($container-max-widths, $breakpoint) / $grid-columns / $i};
					&.col-split-start,
					&.col-split-end,
					&:first-of-type,
					&:last-of-type {
						flex-grow: 1 !important;
					}
				}
			}
		}
	}
}


//
// Cards
//
.card {
	box-shadow: 0 .625rem .9375rem rgba($black, .1);

	.card-header {
		background-color: transparent;
		border-bottom: none;
		padding: 1.125rem;

		h2 {
			margin-bottom: 0;
		}

		.card-img-top {
			height: 18rem;
		}
	}

	.card-body {
		padding: 2rem;
	}

	.card-footer {
		background-color: transparent;
		border-top: none;
		padding: 0 2rem 3rem;
	}
}

//
// Carousel
//
.carousel-inner {
	margin: auto;
	width: 70%;
}
.carousel-indicators {
	bottom: 0;
	position: relative;
	li {
		background-color: $gray-600;
		border: 3px solid $gray-600;
		border-radius: 50%;
		box-shadow: inset 0 0 0 3px $white;
		height: 16px;
		margin-left: 9px;
		margin-right: 9px;
		width: 16px;
		&:hover {
			background-color: $dark;
			border-color: $dark;
		}
		&.active,
		&:active,
		&:focus {
			background-color: $primary;
			border-color: $primary;
		}
	}
}
.carousel-control-next,
.carousel-control-prev {
	opacity: 1;

	.carousel-control-next-icon,
	.carousel-control-prev-icon {
		&:after,
		&:before {
			background-color: $primary;
		}
	}
	&:focus,
	&:hover {
		opacity: 1;

		.carousel-control-next-icon,
		.carousel-control-prev-icon {
			&:after,
			&:before {
				background-color: $secondary;
			}
		}
	}
}
.carousel-control-next-icon,
.carousel-control-prev-icon {
	background-image: none;
	height: 32px;
	width: 17px;
	&:after,
	&:before {
		border-radius: 7px;
		box-shadow: $box-shadow-sm;
		content: "";
		display: block;
		height: 20px;
		left: 50%;
		position: absolute;
		top: 50%;
		width: 4px;
	}
}
.carousel-control-next-icon {
	&:after {
		margin-top: -4px;
		-webkit-transform: rotate(45deg);
		transform: rotate(45deg);
	}
	&:before {
		margin-top: -16px;
		-webkit-transform: rotate(-45deg);
		transform: rotate(-45deg);
	}
}
.carousel-control-prev-icon {
	&:after {
		margin-top: -4px;
		-webkit-transform: rotate(-45deg);
		transform: rotate(-45deg);
	}
	&:before {
		margin-top: -16px;
		-webkit-transform: rotate(45deg);
		transform: rotate(45deg);
	}
}




//
// Site Footer
//
.site-footer {
	.custom-logo-link {
		max-width: 15.5rem;
	}
	.tagline {
		color: $primary;
		font-weight: $font-weight-bold;
	}
	.widget-title {
		margin-bottom: 1rem;
		margin-top: 1rem;
	}
	.social-icons {
		a {
			border: 1px solid $gray-600;
			border-radius: 1.875rem;
			color: $gray-600;
			display: inline-block;
			font-size: 1.625rem;
			height: 3.75rem;
			line-height: 3.75rem;
			margin-bottom: .25rem;
			text-align: center;
			width: 3.75rem;

			&:hover {
				border-color: $dark;
				color: $dark;
			}
			&:active,
			&:focus {
				border-color: $primary;
				color: $primary;
			}
		}
	}

	#menu-main-menu {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		list-style: none;
		margin: 0;
		max-width: 25rem;
		padding: 0;

		.menu-item {
			flex: 1 0 50%;
			a {
				color: $gray-600;
				&:hover {
					color: $dark;
					text-decoration: none;
				}
				&:active,
				&:focus {
					color: $primary;
				}
			}
			&.current-menu-item {
				a {
					color: $primary;
				}
			}
		}

		.sub-menu {
			display: none;
		}
	}

	#wrapper-colophon {
		background-color: $gray-200;
		padding-bottom: 1.375rem;
		padding-top: 1.375rem;

		p {
			font-size: 1rem;
			line-height: 1.1875rem;
			margin-bottom: 0;
		}

		a {
			text-decoration: underline;
			&:hover {
				color: $dark;
			}
			&:active,
			&:focus {
				color: $gray-600;
			}
		}
	}
}